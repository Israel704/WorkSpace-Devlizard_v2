<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>COO • Operações</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body class="role-coo">
  <div class="app">
    <div id="sidebar"></div>

    <main class="main">
      <div id="header"></div>

      <section class="content">
        <h1>Operações</h1>
        <p style="color: var(--muted); margin-top: 6px;">
          Gestão operacional com Kanban Board
        </p>

        <!-- Formulário de Nova Tarefa -->
        <section style="margin-top: 32px;">
          <h2>Nova Tarefa</h2>
          <div class="card" style="margin-top:16px;">
            <form id="taskForm" style="display: grid; gap: 12px;">
              <div>
                <label for="taskTitle">Título *</label>
                <input type="text" id="taskTitle" placeholder="Título da tarefa" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" />
              </div>
              <div>
                <label for="taskDescription">Descrição</label>
                <textarea id="taskDescription" placeholder="Descrição da tarefa..." maxlength="1000" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; min-height: 80px; font-family: inherit;"></textarea>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px;">
                <div>
                  <label for="taskPriority">Prioridade</label>
                  <select id="taskPriority" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="low">Baixa</option>
                    <option value="medium" selected>Média</option>
                    <option value="high">Alta</option>
                  </select>
                </div>
                <div>
                  <label for="taskOwner">Responsável</label>
                  <input type="text" id="taskOwner" placeholder="Nome do responsável" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" />
                </div>
                <div>
                  <label for="taskDueDate">Prazo</label>
                  <input type="date" id="taskDueDate" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" />
                </div>
              </div>
              <button type="submit" style="padding: 10px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Criar Tarefa</button>
            </form>
          </div>
        </section>

        <!-- Kanban Board -->
        <section style="margin-top: 32px;">
          <h2>Kanban Board</h2>
          <div id="kanbanBoard" style="margin-top: 16px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
            <!-- Coluna Pendente -->
            <div class="kanban-column" data-status="todo">
              <div class="kanban-header" style="background-color: #6c757d; color: white; padding: 12px; border-radius: 4px; text-align: center; font-weight: bold;">
                Pendente (<span id="count-todo">0</span>)
              </div>
              <div id="column-todo" class="kanban-tasks" style="margin-top: 12px; display: flex; flex-direction: column; gap: 8px; min-height: 200px;"></div>
            </div>

            <!-- Coluna Em Andamento -->
            <div class="kanban-column" data-status="doing">
              <div class="kanban-header" style="background-color: #007bff; color: white; padding: 12px; border-radius: 4px; text-align: center; font-weight: bold;">
                Em Andamento (<span id="count-doing">0</span>)
              </div>
              <div id="column-doing" class="kanban-tasks" style="margin-top: 12px; display: flex; flex-direction: column; gap: 8px; min-height: 200px;"></div>
            </div>

            <!-- Coluna Bloqueado -->
            <div class="kanban-column" data-status="blocked">
              <div class="kanban-header" style="background-color: #dc3545; color: white; padding: 12px; border-radius: 4px; text-align: center; font-weight: bold;">
                Bloqueado (<span id="count-blocked">0</span>)
              </div>
              <div id="column-blocked" class="kanban-tasks" style="margin-top: 12px; display: flex; flex-direction: column; gap: 8px; min-height: 200px;"></div>
            </div>

            <!-- Coluna Concluído -->
            <div class="kanban-column" data-status="done">
              <div class="kanban-header" style="background-color: #28a745; color: white; padding: 12px; border-radius: 4px; text-align: center; font-weight: bold;">
                Concluído (<span id="count-done">0</span>)
              </div>
              <div id="column-done" class="kanban-tasks" style="margin-top: 12px; display: flex; flex-direction: column; gap: 8px; min-height: 200px;"></div>
            </div>
          </div>
        </section>

        <!-- Compartilhamento de Arquivos -->
        <section style="margin-top: 32px;">
          <h2>Compartilhamento de Arquivos</h2>

          <div class="card" style="margin-top:16px;">
            <h3>Enviar Arquivo</h3>
            <form id="sendFileForm" style="display: flex; flex-direction: column; gap: 12px;">
              <div>
                <label for="toRole">Enviar para:</label>
                <select id="toRole" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                  <option value="">Selecione...</option>
                  <option value="ceo">CEO</option>
                  <option value="cfo">CFO</option>
                  <option value="cto">CTO</option>
                  <option value="cmo">CMO</option>
                  <option value="comercial">Comercial</option>
                </select>
              </div>
              <div>
                <label for="fileInput">Arquivo:</label>
                <input type="file" id="fileInput" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" />
              </div>
              <div>
                <label for="fileNote">Observação (opcional):</label>
                <textarea id="fileNote" placeholder="Adicione uma observação..." style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; min-height: 60px; font-family: inherit;"></textarea>
              </div>
              <button type="submit" style="padding: 10px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Enviar</button>
            </form>
          </div>

          <div class="card" style="margin-top:16px;">
            <h3>Arquivos Recebidos</h3>
            <div id="inboxContainer" style="margin-top: 12px;"></div>
          </div>
        </section>

      </section>
    </main>
  </div>

  <script src="coo.guard.js"></script>
  <script src="../shared/layout.js"></script>
  <script src="../shared/app.js"></script>
  <script src="../shared/files-manager.js"></script>
  <script src="coo.js"></script>
</body>
</html>
